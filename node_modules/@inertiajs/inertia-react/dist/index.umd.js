!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@inertiajs/inertia"),require("react")):"function"==typeof define&&define.amd?define(["exports","@inertiajs/inertia","react"],r):r((e=e||self).InertiaReact={},e.Inertia,e.React)}(this,function(e,r,n){function t(){return(t=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(this,arguments)}var o=n.createContext();function a(e){var a=e.children,i=e.initialPage,s=e.resolveComponent,c=e.resolveErrors,l=e.transformProps,u=n.useState({component:null,page:{},key:null}),p=u[0],f=u[1];if(n.useEffect(function(){r.Inertia.init({initialPage:i,resolveComponent:s,resolveErrors:c,transformProps:l,swapComponent:function(e){var r=e.component,n=e.page,t=e.preserveState;try{return f(function(e){return{component:r,page:n,key:t?e.key:Date.now()}}),Promise.resolve()}catch(e){return Promise.reject(e)}}})},[i,s,c,l]),!p.component)return n.createElement(o.Provider,{value:p.page},null);var d=a||function(e){var r=e.Component,o=n.createElement(r,t({key:e.key},e.props));return"function"==typeof r.layout?r.layout(o):Array.isArray(r.layout)?r.layout.concat(o).reverse().reduce(function(e,r){return n.createElement(r,{children:e})}):o};return n.createElement(o.Provider,{value:p.page},d({Component:p.component,key:p.key,props:p.page.props}))}o.displayName="InertiaPageContext",a.displayName="Inertia";var i=function(){},s=n.forwardRef(function(e,o){var a=e.children,s=e.as,c=void 0===s?"a":s,l=e.data,u=void 0===l?{}:l,p=e.href,f=e.method,d=void 0===f?"get":f,v=e.preserveScroll,m=void 0!==v&&v,h=e.preserveState,y=void 0===h?null:h,g=e.replace,k=void 0!==g&&g,C=e.only,P=void 0===C?[]:C,S=e.headers,E=void 0===S?{}:S,I=e.onClick,b=void 0===I?i:I,w=e.onCancelToken,T=void 0===w?i:w,x=e.onBefore,L=void 0===x?i:x,j=e.onStart,O=void 0===j?i:j,A=e.onProgress,D=void 0===A?i:A,F=e.onFinish,R=void 0===F?i:F,B=e.onCancel,N=void 0===B?i:B,q=e.onSuccess,U=void 0===q?i:q,H=e.onError,Q=void 0===H?i:H,W=function(e,r){if(null==e)return{};var n,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)r.indexOf(n=a[t])>=0||(o[n]=e[n]);return o}(e,["children","as","data","href","method","preserveScroll","preserveState","replace","only","headers","onClick","onCancelToken","onBefore","onStart","onProgress","onFinish","onCancel","onSuccess","onError"]),z=n.useCallback(function(e){b(e),r.shouldIntercept(e)&&(e.preventDefault(),r.Inertia.visit(p,{data:u,method:d,preserveScroll:m,preserveState:null!=y?y:"get"!==d,replace:k,only:P,headers:E,onCancelToken:T,onBefore:L,onStart:O,onProgress:D,onFinish:R,onCancel:N,onSuccess:U,onError:Q}))},[u,p,d,m,y,k,P,E,b,T,L,O,D,R,N,U,Q]);c=c.toLowerCase(),d=d.toLowerCase();var G=r.mergeDataIntoQueryString(d,r.hrefToUrl(p),u);return p=G[0].href,u=G[1],"a"===c&&"get"!==d&&console.warn('Creating POST/PUT/PATCH/DELETE <a> links is discouraged as it causes "Open Link in New Tab/Window" accessibility issues.\n\nPlease specify a more appropriate element using the "as" attribute. For example:\n\n<InertiaLink href="'+p+'" method="'+d+'" as="button">...</InertiaLink>'),n.createElement(c,t({},W,"a"===c?{href:p}:{},{ref:o,onClick:z}),a)});e.App=a,e.InertiaApp=a,e.InertiaLink=s,e.Link=s,e.app=a,e.link=s,e.usePage=function(){var e=n.useContext(o);if(!e)throw new Error("usePage must be used within the Inertia component");return e},e.useRememberedState=function(e,t){var o=n.useState(function(){var n=r.Inertia.restore(t);return void 0!==n?n:e}),a=o[0],i=o[1];return n.useEffect(function(){r.Inertia.remember(a,t)},[a,t]),[a,i]}});
//# sourceMappingURL=index.umd.js.map
